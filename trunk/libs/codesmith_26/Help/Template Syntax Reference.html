<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 11 (filtered)">
<title>CodeSmith Template Syntax Reference</title>
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	margin-left:10pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	width:900;
}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:10pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:Arial;}
h2
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:10pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:10pt;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:Arial;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:.25in;
	margin-right:0in;
	margin-bottom:.25in;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Times New Roman";
	text-transform:uppercase;
	font-weight:bold;
	text-decoration:underline;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";
	font-variant:small-caps;
	font-weight:bold;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";
	font-variant:small-caps;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section1>

<h1>CodeSmith Template Syntax Reference</h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This goal of this document is to provide a reference to the
various tags and objects that can be used during the creation of CodeSmith
templates. This document is not meant to be an introduction to CodeSmith, if
this is what you are looking for then please refer to the quick start guide.</p>

<p class=MsoNormal>&nbsp;</p>

<h1>Directive Tags</h1>

<p class=MsoNormal>Directive tags appear at the top of a template and are used
to set a number of different properties about a template.</p>

<p class=MsoNormal>&nbsp;</p>

<h2>CodeTemplate Directive</h2>

<p class=MsoNormal>The CodeTemplate directive is the only required directive
and is used to specify general properties of the template, including properties
like what language the template is written in or a description of the template.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Following is an example CodeTemplate directive:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%@ CodeTemplate Language=&quot;C#&quot;
TargetLanguage=&quot;C#&quot; Description=&quot;Generates a class.&quot; %&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<h3>CodeTemplate Directive Parameters</h3>

<p class=MsoNormal>This section will describe the various parameters that can
be used with the CodeTemplate directive.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Language</b></p>

<p class=MsoNormal>The language attribute specifies what language will be used
to write the template. C#, VB.NET, and Jscript can all be used to develop
CodeSmith templates.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>TargetLanguage</b> </p>

<p class=MsoNormal>The target language attribute does not directly affect the
output of your template in any way. This attribute is only used to classify
your template based on what kind of code it is generating, since technically
you could use CodeSmith to generate anything from C# to COBOL. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Description</b><br>
The description attribute is used to describe your template in a general way,
this is used to identify your template in the CodeSmith explorer.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Inherits</b></p>

<p class=MsoNormal>By default all CodeSmith templates inherit from
CodeSmith.Engine.CodeTemplate, this class provides the basic functionality of
the template; much like the Page class provides the basic functionality of an
ASP.NET page. The Inherits attribute can be used to modify what class your
template inherits from, this new class must inherit from
CodeSmith.Engine.CodeTemplate though. CodeSmith must also be able to find this
class which means you will also need an assembly directive pointing to the
assembly that contains this class, for more information on this directive
please see that section of this document. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Template inheritance can be used for a number of different
reasons, but primarily you will use it to include a set of helper methods in a
number of different templates. For more information on this topic please look
for the Template Inheritance document.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Src</b></p>

<p class=MsoNormal>In some ways the Src property is very similar to the
Inherits property, they both allow you to include functionality from another
class in your template. The difference between the two properties is that the
Src property can be used to dynamically compile a class file with your
template, whereas the Inherits property requires you to supply the already
compiled class and assembly. To use the Src property you simply need to set the
value of this property to the source file of the class you want to include in
your template.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Debug</b></p>

<p class=MsoNormal>The Debug attribute is used to determine wether or not debug
symbols should be included in the generated assembly.  Setting this attribute
to True will enable you to set break points in your template using the
System.Diagnostics.Debugger.Break() method.</p>

<p class=MsoNormal>&nbsp;</p>

<h2>&nbsp;</h2>

<h2>Property Directive</h2>

<p class=MsoNormal>The property directive is used to declare a parameter that
will be specified when the template is run, and whose value can then be
accessed throughout the template.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Following is an example of a Property Directive:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%@ Property Name=&quot;ClassName&quot;
Type=&quot;String&quot; Default=&quot;Class1&quot; Category=&quot;Context&quot;
Description=&quot;The name of the class to generate&quot; Optional=&quot;true&quot;
%&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<h3>Property Directive Parameters</h3>

<p class=MsoNormal>This section will describe the various parameters that can
be used with the Propert Directive.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Name</b></p>

<p class=MsoNormal>The name of the property is used when the parameter is
displayed in the property panel of the CodeSmith Explorer. The name also acts
as the variable name that is used to store the value of this property, because
it is used as a variable name it must be a legal variable name in the language
you are using.</p>

<p class=MsoNormal><b>Type</b></p>

<p class=MsoNormal>The type parameter is used to declare what .NET type this
property is. This parameter can be any valid .NET data type, from a simple type
like the String, to an external type like SchemaExplorer.DatabaseSchema. Please
note that the types must be Base Class Library types, meaning you need to use
String or Int32 instead of string of int.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Default</b></p>

<p class=MsoNormal>The default parameter is used to set the default value for
this property. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Category</b></p>

<p class=MsoNormal>The category parameter specifies what category this property
should appear under in the CodeSmith Explorer property panel.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Description</b></p>

<p class=MsoNormal>The description parameter specifies what will appear at the
bottom of the property panel when this property is selected.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Optional</b></p>

<p class=MsoNormal>The optional parameter specifies whether or not this
property is optional. If a user does not specify a parameter that is not
optional then CodeSmith will not let them proceed. A value of true means the
parameter is not required, and false means it is required.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Assembly Directive</h2>

<p class=MsoNormal>The Assembly directive can be used to reference an external
assembly from your template. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Following is an example of the assembly directive.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%@ Assembly Name=</span><span style='font-size:
10.0pt;font-family:"Courier New"'>&quot;</span><span style='font-size:10.0pt;
font-family:"Courier New"'>SchemaExplorer</span><span style='font-size:10.0pt;
font-family:"Courier New"'>&quot;</span><span style='font-size:10.0pt;
font-family:"Courier New"'> %&gt;</span></p>

<p class=MsoNormal>.</p>

<p class=MsoNormal>CodeSmith automatically loads a number of different
assemblies including  System, System.Diagnostics, System.ComponentModel, Microsoft.VisualBasic,
and CodeSmith.Engine.</p>

<p class=MsoNormal>&nbsp;</p>

<h3>Assembly Directive Parameters</h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Name</b></p>

<p class=MsoNormal>This is the fully qualified name of the assembly that you
want to reference from your template. The assembly must exist in the Global
Assembly Cache, in the same directory as CodeSmith or in the same directory as
the template (.cst) file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Import Directive</h2>

<p class=MsoNormal>The Import directive is used to import a namespace for use
in your template, this is the same as the Imports keyword in VB.NET or the
using keyword in C#. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Following is an example of the assembly directive.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&lt;%@ Import Namespace=SchemaExplorer %&gt;</p>

<p class=MsoNormal>&nbsp;</p>

<h3>Import Directive Parameters</h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Name</b></p>

<p class=MsoNormal>The Name parameter is the fully qualified name of the
namespace to be imported. Remember that you must also load the assembly that
contains this namespace if it is not already loaded by default. (See the above
section)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1>Template Syntax</h1>

<p class=MsoNormal>The section will focus on the various other tags that make
up a template.</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Code Tags</h2>

<p class=MsoNormal>Code tags are used to include .NET code in the body of your
template. There are three different types of code tags including &lt;% %&gt;
and &lt;%=  %&gt;.</p>

<p class=MsoNormal>&nbsp;</p>

<h3>&lt;% %&gt; Tags</h3>

<p class=MsoNormal>These tags are used for any amount of code that does not
directly provide output for the template. (You can use the response object from
these tags, but that will be covered later). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here is an example of these tags using C#</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% foreach (ColumnSchema column in
SourceTable.Columns) { %&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>1</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% } %&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This sample will loop through each column in the supplied
table, and output a 1 to the template. This is not very useful, as we probably
want to output something like the name of the column, that is where the next
tag comes into the picture.</p>

<p class=MsoNormal>&nbsp;</p>

<h3>&lt;%=  %&gt; Tags</h3>

<p class=MsoNormal>These tags are used to output a string to the template,
whatever code is used between these tags must resolve to a simple string. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here is an example of these tags using C#</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% foreach (ColumnSchema column in
SourceTable.Columns) { %&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%= column.Name %&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% } %&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Since column.Name is a string it will be sent to the
template output.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Script Tags</h2>

<p class=MsoNormal>Script tags are used to include a piece of code in your
template that is not used to directly affect the output of the template. This
is the best place to put helper methods that you might call throughout the rest
of your template. The script tag must have the runat=template parameter
specified, otherwise it will be treated as simple text.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here is an example of using script tags.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;script runat=template&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>private string GetColumnName(ColumnSchema cs)</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>{</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>      return cs.Name;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;/script&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% foreach (ColumnSchema cs in
SourceTable.Columns) { %&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%= GetColumnName(cs) %&gt;</span></p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;% } %&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using script tags you can minimize the amount of code that
is included between the &lt;% %&gt; tags, making your templates more readable
and manageable.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Include Tags</h2>

<p class=MsoNormal>Just like in ASP.NET you can still use include tags to
include the contents of a text file into your template, but also just like in
ASP.NET this is not always the best way to accomplish your goal.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here is an example of using the include tag:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;!-- #include file=myfile.inc --&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In most cases it is better to implement the functionality
that you want to use in multiple templates in an assembly and then call those
methods from the assembly, but there are certain cases where an include tag
might server you better. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2>Comment Tags</h2>

<p class=MsoNormal>Comment tags can be used to include comments in your
template without affecting the output of your template. The comment character
for CodeSmith is  and can be used inside the &lt;% %&gt; code tags.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here is an example of using the comment tag:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='background:#E0E0E0'><span style='font-size:10.0pt;
font-family:"Courier New"'>&lt;%-- This is a comment --%&gt;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1>CodeSmith Objects</h1>

<p class=MsoNormal>There are a number of objects that CodeSmith exposes that
can be of use when writing templates, and this section will document what some
of the more common methods and properties of those objects are and how they can
be used.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><span style='font-weight:normal;font-style:normal'>CodeTemplate Object</span></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>From within your template, this (or Me in VB.NET)  references
the CodeTemplate object of the current template. </p>

<h3>CodeTemplate Methods</h3>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><b>public virtual void GetFileName()</b></p>

<p class=MsoNormal>You can override this method to set a default output
filename for this template. Otherwise CodeSmith will set its own filename based
on the template name and TargetLanguage.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>public virtual int GetHashCode()</b></p>

<p class=MsoNormal>This method returns a unique number based on the contents of
the template file. This can be used to detect if the template has changed, as
when the contents change so with this hash code.</p>

<h3>CodeTemplate Properties</h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Response</b></p>

<p class=MsoNormal>This property can be used to access the current TextWriter
object, which can be used to write directly to the output of the template. See
below for more information.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>CodeTemplateInfo</b></p>

<p class=MsoNormal>This property can be used to access the current
CodeTemplateInfo object which contains information about the current template.
See below for more information.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><span style='font-weight:normal;font-style:normal'>Reponse Object</span></h2>

<p class=MsoNormal>The Response object provides the ability to directly write
to the output of your template. This is very similar to the response object of
ASP.NET.<br>
<br>
</p>

<p class=MsoNormal>Here is an example of using the Write method of the Reponse
object to write text to the output of your template.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&lt;% Response.Write(This will appear in the template)
%&gt;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><span style='font-weight:normal;font-style:normal'>CodeTemplateInfo Object</span></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The CodeTemplateInfo object contains information about the current
template. The following properties are available from CodeTemplateInfo:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>DateCreated (DateTime)</b></p>

<p class=MsoNormal>The DateCreated property returns the date that the template
was created.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>DateModified (DateTime)</b></p>

<p class=MsoNormal>The DateModified property returns the last time the template
was modified. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Description (string)</b></p>

<p class=MsoNormal>The Description property returns the description from the
CodeTemplate directive</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>DirectoryName (string)</b></p>

<p class=MsoNormal>The DirectortyName property returns the directory where the
current template file resides.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>FileName (string)</b></p>

<p class=MsoNormal>The FileName property returns the filename of the current
template file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>FullPath (string)</b></p>

<p class=MsoNormal>The FullPath property returns the full path (DirectoryName +
FileName) of the current template</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Language (string)</b></p>

<p class=MsoNormal>The Language property returns the language specified in the
CodeTemplate directive</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>TargetLanguage (string)</b></p>

<p class=MsoNormal>The TargetLanguage property returns the target language
specified in the CodeTemplate Directive</p>

</div>

</body>

</html>
